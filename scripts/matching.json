{
    "root" : [{
        "name" : "DocDC",
        "children" : [{
            "name" : "title",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:nonSort", ".//mods:title"],
                "filter" : "concat"
            }]
        }, {
            "name" : "creator",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:namePart[@type=\"given\"]", ".//mods:namePart[@type=\"family\"]"],
                "filter" : "concat"
            }, {
                "method" : "xpath",
                "paths" : [".//mods:namePart"],
                "filter" : "concat"
            }],
            "default_value" : "Non renseigné"
        }, {
            "name" : "subject",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:topic"],
                "filter" : "all"
            }, {
                "method" : "srusrw",
                "paths" : [".//ns1:datafield[@tag=\"606\"]/ns1:subfield[@code=(\"a\",\"y\", \"x\")]", ".//ns1:datafield[@tag=\"607\"]/ns1:subfield[@code=\"x\"]"],
                "filter" : "all"
            }],
            "default_value" : "Non renseigné"
        }, {
            "name" : "description",
            "attributes" : {
                "language" : "fra"
            },
            "default_value" : "Non renseigné"
        }, {
            "name" : "publisher",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:publisher"]
            }],
            "default_value" : "s.n."
        }, {
            "name" : "date",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:dateIssued"]
            }]
        }, {
            "name" : "type",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:genre[@authority=\"marcgt\"]"],
                "filter" : "type"
            }]
        }, {
            "name" : "format",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "srusrw",
                "paths" : [".//ns1:datafield[@tag=\"215\"]/ns1:subfield[@code=\"a\"]", ".//ns1:datafield[@tag=\"215\"]/ns1:subfield[@code=\"d\"]"],
                "filter" : "concat"
            }],
            "default_value" : ""
        }, {
            "name" : "source",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:identifier[@type=\"callnumber\"]"]
            }]
        }, {
            "name" : "language",
            "default_value" : "fra"
        }, {
            "name" : "coverage",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:geographic", ".//mods:temporal"],
                "filter" : "all"
            }, {
                "method" : "srusrw",
                "paths" : [".//ns1:datafield[@tag=\"607\"]/ns1:subfield[@code=(\"a\",\"z\")]"],
                "filter" : "all"
            }]
        }, {
            "name" : "rights",
            "attributes" : {
                "language" : "fra"
            },
            "default_value" : "Libre de droits"
        }]
    }, {
        "name" : "DocMeta",
        "children" : [{
            "name" : "identifiantDocProducteur",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:recordIdentifier"]
            }]
        }, {
            "name" : "noteDocument",
            "attributes" : {
                "language" : "fra"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:note[@type=\"cataloging\"]"]
            }]
        }, {
            "name" : "serviceVersant",
            "default_value" : "Fondation Nationale des Sciences Politiques"
        }, {
            "name" : "planClassement",
            "attributes" : {
                "language" : "fra"
            },
            "default_value" : "Numérisation patrimoniale"
        }]
    }, {
        "name" : "FichMeta",
        "children" : [{
            "name" : "formatFichier",
            "default_value" : "XML"
        }, {
            "name" : "nomFichier",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:recordIdentifier"],
                "filter" : "get_mets_file"
            }]
        }, {
            "name" : "empreinteOri",
            "attributes" : {
                "type" : "MD5"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mods:recordIdentifier"],
                "filter" : "md5xml"
            }]
        }]
    }, {
        "name" : "FichMeta",
        "repeat" : ".//mets:file[contains(mets:FLocat/@xlink:href, 'file://master/')] | .//mets:file[contains(mets:FLocat/@xlink:href, 'file://ocr/')]",
        "children" : [{
            "name" : "formatFichier",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mets:FLocat/@xlink:href[contains(., 'file://master/')]", ".//mets:FLocat/@xlink:href[contains(., 'file://ocr/')]"],
                "filter" : "format"
            }]
        }, {
            "name" : "nomFichier",
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mets:FLocat/@xlink:href[contains(., 'file://master/')]", ".//mets:FLocat/@xlink:href[contains(., 'file://ocr/')]"],
                "filter" : "filename"
            }]
        }, {
            "name" : "empreinteOri",
            "attributes" : {
                "type" : "MD5"
            },
            "value" : [{
                "method" : "xpath",
                "paths" : [".//mets:FLocat/@xlink:href[contains(., 'file://master/')]", ".//mets:FLocat/@xlink:href[contains(., 'file://ocr/')]"],
                "filter" : "md5"
            }]
        }]
    }]
}